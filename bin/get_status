#!/bin/sh

ambient_temperature () {
    echo -n " "
    cat /tmp/temper.deg || echo "N/A"
}

mail () {
    mail_notify
}

date_time () {
    date '+%Y-%m-%d %H:%M'
}

network_status () {
   [ $(cat "/sys/class/net/$1/operstate") = "up" ] && echo   || echo 
}

battery_status () {
    STATUS=$(cat "/sys/class/power_supply/$1/status")
    [ $STATUS = "Discharging" ] && echo  || true
    [ $STATUS = "Charging" ] && echo 
    [ $STATUS != "Discharging" ] && [ $STATUS != "Charging" ] && echo 

    cat "/sys/class/power_supply/$1/capacity"
}

echo " $(battery_status BAT0) $(battery_status BAT1) | $(network_status wlp3s0) | $(ambient_temperature) | $(mail) | $(date_time)"
